<ion-content>
  <div id="content" class="full-center">
    <div class="card-content">
      <mat-tab-group dynamicHeight (selectedTabChange)="onCall($event)">
        <mat-tab label="Plugin">
          <div class="example-small-box mat-elevation-z4 boy-tap" style="padding-top: 20px;">
            <ion-row>
              <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
              <!--
                <ion-row>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                    <div class="card-content-configuration">
                    <ion-row>
                      <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                        <div class="content-view">
                          <ion-row class="border-bottom-title">
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                              <span class="title card-title">Configuracion servidor de correo</span>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                              <span class="card-subtitle">Servicio de envio</span>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                              <mt-input
                              id="userEmailService"
                              label="Usuario"
                              placeholder="Correo electronico"
                              type="text"
                              value="{{ userEmailService }}"
                              (afterChange)="onChangeInput($event)"
                            ></mt-input>
                            </ion-col>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                              <mt-input
                              id="passEmailService"
                              label="Password"
                              placeholder="Password"
                              type="text"
                              value="{{ passEmailService }}"
                              (afterChange)="onChangeInput($event)"
                            ></mt-input>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                              <span class="card-subtitle">Correo a enviar</span>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="10" sizeSm="10" sizeMd="6" sizeLg="6">
                              <mt-input
                              id="emailSend"
                              label="Email"
                              placeholder="Correo electronico"
                              value="{{ emailSend }}"
                              (afterChange)="onChangeInput($event)"
                              type="text"
                            ></mt-input>
                            </ion-col>
                            <ion-col sizeXs="2" sizeSm="2" sizeMd="4" sizeLg="4" class="aling-left">
                              <button (click)="onAddEmailList()" type="button" class="btn btn-outline-primary btn-sm" style="margin-right: 5px !important;"><i class="fa fa-plus" aria-hidden="true"></i></button>
                              <button *ngIf="isEmailDelete" (click)="onDeleteEmail()" type="button" class="btn btn-outline-danger btn-sm"><i class="fa fa-times" aria-hidden="true"></i></button>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6" class="aling-left">
                              <div class="list-group full-width">
                                <span (click)="onSelectEmail(email.name)" class="list-group-item list-group-item-action list-group-item-dark" *ngFor="let email of emailList">{{ email.name }}</span>
                              </div>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6" class="aling-left">
                              <button (click)="onSaveConfiguration()" type="button" class="btn btn-primary btn-sm save"><i class="fa fa-floppy-o" aria-hidden="true"></i> Guardar</button>
                              <button (click)="onSendTestEmail()" type="button" class="btn btn-primary btn-sm"><i class="fa fa-envelope-o" aria-hidden="true"></i> Enviar correo de prueba</button>
                            </ion-col>
                          </ion-row>
                        </div>
                      </ion-col>
                    </ion-row>
                    </div>
                  </ion-col>
                </ion-row>
        -->
                <ion-row>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                    <div class="card-content-configuration">
                      <ion-row>
                        <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                          <div class="content-view">
                            <ion-row>
                              <ion-col sizeXs="12" sizeSm="12" sizeMd="4" sizeLg="4" class="aling-left">
                                <mt-select id="cboTipo" placeHolder="Plugin" [optionList]="onListPlugin"
                                (changeSelected)="onChangeSelect($event)"></mt-select>
                              </ion-col>
                              <ion-col sizeXs="12" sizeSm="12" sizeMd="4" sizeLg="4" class="aling-left">
                                <button (click)="onUpdateAgentFront()" type="button" class="btn btn-primary btn-sm"><i class="fa fa-refresh" aria-hidden="true"></i> Actualizar</button>
                              </ion-col>
                            </ion-row>
                            <ion-row>
                              <ion-col sizeXs="11" sizeSm="11" sizeMd="12" sizeLg="12">
                                <ol class="list-group">
                                  <li class="list-group-item d-flex justify-content-between align-items-start" *ngFor="let tienda of tiendasList">
                                    <div class="ms-2 me-auto">
                                      <div class="fw-bold">{{tienda.value}}</div>
                                    </div>
                                    <span class="badge text-bg-success rounded-pill" *ngIf="tienda.progress == 0"><i class="fa fa-check" aria-hidden="true"></i></span>
                                    <span class="badge bg-primary rounded-pill" *ngIf="tienda.progress > 0">{{tienda.progress}}%</span>
                                  </li>
                                </ol>
                              </ion-col>
                            </ion-row>
                          </div>
                        </ion-col>
                      </ion-row>
                    </div>
                  </ion-col>
                </ion-row>
              </ion-col>
        
              <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                <ion-row>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                    <div class="card-content-configuration">
                    <ion-row>
                      <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                        <div class="content-view">
                          <ion-row class="border-bottom-title">
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                              <span class="title card-title">Clientes a eliminar o descatalogar</span>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6" class="aling-left">
                              <button type="button" (click)="onSaveClientes()" class="btn btn-primary btn-sm"><i class="fa fa-floppy-o" aria-hidden="true"></i> Guardar</button>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                                <textarea id="vListaClientes" class="form-control" rows="3" (change)="onValueChange($event)" [value]="vListaClientes"></textarea>
                            </ion-col>
                          </ion-row>
                        </div>
                      </ion-col>
                    </ion-row>
                    </div>
                  </ion-col>
                </ion-row>
              </ion-col>
        
            </ion-row>

          </div>
        </mat-tab>
        <mat-tab label="Session">
          <div class="example-large-box mat-elevation-z4" style="padding-top: 20px;">
            <ion-row>
              <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                <div class="mat-elevation-z8" *ngIf="isSession">
                  <table mat-table [dataSource]="dataSourceSession">
                      <ng-container matColumnDef="id_session">
                        <th mat-header-cell *matHeaderCellDef> ID Session </th>
                        <td mat-cell *matCellDef="let element"> {{element.ID_SESSION}} </td>
                      </ng-container>

                      <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef> Email </th>
                        <td mat-cell *matCellDef="let element"> {{element.EMAIL}} </td>
                      </ng-container>
    
                      <ng-container matColumnDef="ip">
                        <th mat-header-cell *matHeaderCellDef> IP </th>
                        <td mat-cell *matCellDef="let element"> {{element.IP}} </td>
                      </ng-container>

                      <ng-container matColumnDef="divice">
                        <th mat-header-cell *matHeaderCellDef> Divice </th>
                        <td mat-cell *matCellDef="let element"> {{element.DIVICE}} </td>
                      </ng-container>
    
                      <tr mat-header-row *matHeaderRowDef="displayedColumnsSession"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumnsSession;"></tr>
                  </table>
                  <mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons
                    aria-label="Select page of periodic elements">
                  </mat-paginator>
                </div>
              </ion-col>
              <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                <div class="mat-elevation-z8" *ngIf="isSession">
                  <table mat-table [dataSource]="dataSourceAuthSession">
                      <ng-container matColumnDef="id_auth_session">
                        <th mat-header-cell *matHeaderCellDef> ID Auth Session </th>
                        <td mat-cell *matCellDef="let element"> {{element.ID_AUTH_SESSION}} </td>
                      </ng-container>

                      <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef> Email </th>
                        <td mat-cell *matCellDef="let element"> {{element.EMAIL}} </td>
                      </ng-container>
    
                      <ng-container matColumnDef="codigo">
                        <th mat-header-cell *matHeaderCellDef> Codigo </th>
                        <td mat-cell *matCellDef="let element"> {{element.CODIGO}} </td>
                      </ng-container>

                      <ng-container matColumnDef="accion">
                        <th mat-header-cell *matHeaderCellDef> Accion </th>
                        <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                          <button matTooltip="Eliminar Codigo" (click)="onDeleteAuth(element.ID_AUTH_SESSION)" id="searchProducto" type="button" class="btn btn-danger btn-sm" style="padding-bottom: 0px;padding-left: 3px;padding-right: 3px;padding-top: 0;margin-right: 5px;">
                            <i class="fa fa-trash-o" aria-hidden="true"></i>
                          </button>
                        </td>
                      </ng-container>
    
                      <tr mat-header-row *matHeaderRowDef="displayedColumnsAuthSession"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumnsAuthSession;"></tr>
                  </table>
                </div>
              </ion-col>
            </ion-row>
          </div>
        </mat-tab>
        <mat-tab label="Usuario Sistema">
          <div class="example-large-box mat-elevation-z4" style="padding-top: 20px;">
            <ion-row>
              <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                <ion-row>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                    <button  id="searchProducto" type="button" class="btn btn-primary btn-sm">
                      Crear Usuario
                    </button>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                    <mt-input id="vUsuario" label="Usuario" placeholder="Usuario" type="text" value="{{ vUsuario }}"></mt-input>
                  </ion-col>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                    <mt-input id="vPassword" label="Password" placeholder="Password" type="text" value="{{ vPassword }}"></mt-input>
                  </ion-col>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                    <mt-select
                    id="pageDefault"
                    placeHolder="Paginas Default"
                    [optionList]="onListPageDefault"
                    ></mt-select>
                  </ion-col>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                    <mt-select
                    id="tipoCuenta"
                    placeHolder="Tipo Cuenta"
                    [optionList]="onListTipoCuenta"
                    ></mt-select>
                  </ion-col>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                    <mt-input id="vEmail" label="Email" placeholder="Email" type="text" value="{{ vEmail }}"></mt-input>
                  </ion-col>
                </ion-row>
              </ion-col>
              <ion-col sizeXs="12" sizeSm="12" sizeMd="6" sizeLg="6">
                <ion-row>
                  <ion-col sizeXs="12" sizeSm="12" sizeMd="12" sizeLg="12">
                    <mt-input id="vUsuario" (keyup)="applyFilter($event)" label="Filtro" placeholder="Filtro" type="text" value="{{ vUsuario }}"></mt-input>
                  </ion-col>
                </ion-row>
                <div class="mat-elevation-z8" *ngIf="isUsers">
                  <table mat-table [dataSource]="dataSourceUser">
                      <ng-container matColumnDef="usuario">
                        <th mat-header-cell *matHeaderCellDef> Usuario </th>
                        <td mat-cell *matCellDef="let element"> {{element.USUARIO}} </td>
                      </ng-container>

                      <ng-container matColumnDef="password">
                        <th mat-header-cell *matHeaderCellDef> Password </th>
                        <td mat-cell *matCellDef="let element"> {{element.PASSWORD}} </td>
                      </ng-container>
    
                      <ng-container matColumnDef="page_default">
                        <th mat-header-cell *matHeaderCellDef> Page Default </th>
                        <td mat-cell *matCellDef="let element"> {{element.DEFAULT_PAGE}} </td>
                      </ng-container>

                      <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef> Email </th>
                        <td mat-cell *matCellDef="let element"> {{element.EMAIL}} </td>
                      </ng-container>

                      <ng-container matColumnDef="nivel">
                        <th mat-header-cell *matHeaderCellDef> Nivel </th>
                        <td mat-cell *matCellDef="let element"> {{element.NIVEL}} </td>
                      </ng-container>
    
                      <tr mat-header-row *matHeaderRowDef="displayedColumnsUsers"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumnsUsers;"></tr>
                  </table>
                  <mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons
                    aria-label="Select page of periodic elements">
                  </mat-paginator>
                </div>
              </ion-col>
            </ion-row>
          </div>
        </mat-tab>
        <mat-tab label="Registro Tiendas">
          <div class="example-large-box mat-elevation-z4" style="padding-top: 20px;">

          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</ion-content>
